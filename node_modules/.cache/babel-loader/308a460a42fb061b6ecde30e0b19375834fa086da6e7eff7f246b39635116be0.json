{"ast":null,"code":"import{useState,useEffect}from'react';import BoardProviderContext from'./BoardProvider.context';import{jsx as _jsx}from\"react/jsx-runtime\";const BoardProvider=_ref=>{let{children}=_ref;// const [boardList, setBoardList] = useState<Image[]>(JSON.parse(localStorage.getItem('savedList') || '') || []);\n// const [likes, setLikes] = useState<number>(JSON.parse(localStorage.getItem('boardLikes') || '') || 0);\n// const [boardTitle, setBoardTitle] = useState<string>(JSON.parse(localStorage.getItem('boardTitle') || '') || '');\nconst[boardList,setBoardList]=useState([]);const[likes,setLikes]=useState(0);const[boardTitle,setBoardTitle]=useState('');useEffect(()=>{localStorage.setItem('savedList',JSON.stringify(boardList));localStorage.setItem('boardLikes',JSON.stringify(likes));localStorage.setItem('boardTitle',JSON.stringify(boardTitle));},[boardList,likes,boardTitle]);const saveCard=data=>{const newCard={id:data.id,src:data.src,alt:data.alt,isSaved:true};setBoardList(prevList=>[...prevList,newCard]);};const deleteCard=data=>{const updList=boardList.filter(card=>card.src!==data.src);setBoardList(updList);};const handleLikes=()=>{setLikes(likes+1);};const onChangeTitle=e=>{setBoardTitle(e.target.value);};const value={saveCard,deleteCard,handleLikes,onChangeTitle,boardList,likes,boardTitle};return/*#__PURE__*/_jsx(BoardProviderContext.Provider,{value:value,children:children});};export default BoardProvider;","map":{"version":3,"names":["useState","useEffect","BoardProviderContext","jsx","_jsx","BoardProvider","_ref","children","boardList","setBoardList","likes","setLikes","boardTitle","setBoardTitle","localStorage","setItem","JSON","stringify","saveCard","data","newCard","id","src","alt","isSaved","prevList","deleteCard","updList","filter","card","handleLikes","onChangeTitle","e","target","value","Provider"],"sources":["/Users/tikhonovaks/dev/inspire-board/src/providers/BoardProvider/BoardProvider.tsx"],"sourcesContent":["import { useState, useEffect, ChangeEvent, FC, ReactNode } from 'react';\nimport BoardProviderContext from './BoardProvider.context';\nimport Image from '../../models/Image';\n\nconst BoardProvider: FC<{children: ReactNode}> = ({ children }) => {\n  // const [boardList, setBoardList] = useState<Image[]>(JSON.parse(localStorage.getItem('savedList') || '') || []);\n  // const [likes, setLikes] = useState<number>(JSON.parse(localStorage.getItem('boardLikes') || '') || 0);\n  // const [boardTitle, setBoardTitle] = useState<string>(JSON.parse(localStorage.getItem('boardTitle') || '') || '');\n\n  const [boardList, setBoardList] = useState<Image[]>([]);\n  const [likes, setLikes] = useState<number>(0);\n  const [boardTitle, setBoardTitle] = useState<string>('');\n\n  useEffect(() => {\n    localStorage.setItem('savedList', JSON.stringify(boardList));\n    localStorage.setItem('boardLikes', JSON.stringify(likes));\n    localStorage.setItem('boardTitle', JSON.stringify(boardTitle));\n  }, [boardList, likes, boardTitle]);\n\n  const saveCard = (data: Image) => {\n    const newCard = {\n      id: data.id,\n      src: data.src,\n      alt: data.alt,\n      isSaved: true,\n    };\n    setBoardList((prevList: Image[]) => [...prevList, newCard]);\n  };\n\n  const deleteCard = (data: Image) => {\n  const updList = boardList.filter((card: Image) => card.src !== data.src);\n  setBoardList(updList);\n  }\n\n  const handleLikes = () => {\n    setLikes(likes + 1);\n  };\n\n  const onChangeTitle = (e: ChangeEvent<HTMLInputElement>) => {\n    setBoardTitle(e.target.value);\n  };\n\n  const value = {\n    saveCard,\n    deleteCard,\n    handleLikes,\n    onChangeTitle,\n    boardList,\n    likes,\n    boardTitle,\n  };\n\n  return <BoardProviderContext.Provider value={value}>{children}</BoardProviderContext.Provider>;\n};\n\nexport default BoardProvider;\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAoC,OAAO,CACvE,MAAO,CAAAC,oBAAoB,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAG3D,KAAM,CAAAC,aAAwC,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC5D;AACA;AACA;AAEA,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAU,EAAE,CAAC,CACvD,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAS,CAAC,CAAC,CAC7C,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAS,EAAE,CAAC,CAExDC,SAAS,CAAC,IAAM,CACda,YAAY,CAACC,OAAO,CAAC,WAAW,CAAEC,IAAI,CAACC,SAAS,CAACT,SAAS,CAAC,CAAC,CAC5DM,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEC,IAAI,CAACC,SAAS,CAACP,KAAK,CAAC,CAAC,CACzDI,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEC,IAAI,CAACC,SAAS,CAACL,UAAU,CAAC,CAAC,CAChE,CAAC,CAAE,CAACJ,SAAS,CAAEE,KAAK,CAAEE,UAAU,CAAC,CAAC,CAElC,KAAM,CAAAM,QAAQ,CAAIC,IAAW,EAAK,CAChC,KAAM,CAAAC,OAAO,CAAG,CACdC,EAAE,CAAEF,IAAI,CAACE,EAAE,CACXC,GAAG,CAAEH,IAAI,CAACG,GAAG,CACbC,GAAG,CAAEJ,IAAI,CAACI,GAAG,CACbC,OAAO,CAAE,IACX,CAAC,CACDf,YAAY,CAAEgB,QAAiB,EAAK,CAAC,GAAGA,QAAQ,CAAEL,OAAO,CAAC,CAAC,CAC7D,CAAC,CAED,KAAM,CAAAM,UAAU,CAAIP,IAAW,EAAK,CACpC,KAAM,CAAAQ,OAAO,CAAGnB,SAAS,CAACoB,MAAM,CAAEC,IAAW,EAAKA,IAAI,CAACP,GAAG,GAAKH,IAAI,CAACG,GAAG,CAAC,CACxEb,YAAY,CAACkB,OAAO,CAAC,CACrB,CAAC,CAED,KAAM,CAAAG,WAAW,CAAGA,CAAA,GAAM,CACxBnB,QAAQ,CAACD,KAAK,CAAG,CAAC,CAAC,CACrB,CAAC,CAED,KAAM,CAAAqB,aAAa,CAAIC,CAAgC,EAAK,CAC1DnB,aAAa,CAACmB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAA,KAAK,CAAG,CACZhB,QAAQ,CACRQ,UAAU,CACVI,WAAW,CACXC,aAAa,CACbvB,SAAS,CACTE,KAAK,CACLE,UACF,CAAC,CAED,mBAAOR,IAAA,CAACF,oBAAoB,CAACiC,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAA3B,QAAA,CAAEA,QAAQ,CAAgC,CAAC,CAChG,CAAC,CAED,cAAe,CAAAF,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}